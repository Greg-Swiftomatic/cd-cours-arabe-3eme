---
---

<div
  class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 px-4 py-6 backdrop-blur-sm"
  data-auth-modal
  aria-hidden="true"
>
  <div class="absolute inset-0" data-auth-close></div>
  <div class="relative max-w-md w-full rounded-3xl bg-white shadow-2xl ring-1 ring-black/10 p-8 space-y-6">
    <button
      type="button"
      class="absolute right-5 top-5 text-gray-400 hover:text-gray-600"
      data-auth-close
      aria-label="إغلاق"
    >
      ✕
    </button>

    <header class="space-y-2 text-right">
      <p class="text-xs font-semibold text-primary-600">تسجيل الدخول العائلي</p>
      <h2 class="font-display text-2xl text-gray-900">ادخل بريدك الإلكتروني</h2>
      <p class="text-sm text-gray-500">سنعرض لك رمز دخول موقت لتأكيد الهوية.</p>
    </header>

    <form class="space-y-4" data-auth-email-form>
      <label class="block space-y-2 text-right">
        <span class="text-sm font-medium text-gray-700">البريد الإلكتروني</span>
        <input
          type="email"
          name="email"
          required
          placeholder="you@example.com"
          class="w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-right text-base text-gray-900 focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-200"
        />
      </label>
      <button
        type="submit"
        class="w-full rounded-full bg-primary-600 px-5 py-3 text-sm font-semibold text-white shadow-lg transition hover:bg-primary-700 disabled:opacity-60"
      >
        إرسال الرمز
      </button>
    </form>

    <form class="space-y-4 hidden" data-auth-code-form>
      <p class="text-sm text-gray-600 text-right">
        أدخل الرمز المرسل. إذا كنت في وضع التطوير سيظهر لك مباشرة بعد الإرسال.
      </p>
      <label class="block space-y-2 text-right">
        <span class="text-sm font-medium text-gray-700">رمز التحقق</span>
        <input
          type="text"
          name="code"
          required
          inputmode="numeric"
          pattern="[0-9]{4,8}"
          placeholder="٠ ٠ ٠ ٠"
          class="w-full rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-center text-lg tracking-widest text-gray-900 focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-200"
        />
      </label>
      <button
        type="submit"
        class="w-full rounded-full bg-emerald-600 px-5 py-3 text-sm font-semibold text-white shadow-lg transition hover:bg-emerald-700 disabled:opacity-60"
      >
        تأكيد الدخول
      </button>
      <button
        type="button"
        class="w-full rounded-full border border-gray-300 bg-white px-5 py-3 text-sm font-semibold text-gray-700 transition hover:bg-gray-50"
        data-auth-resend
      >
        إعادة إرسال الرمز
      </button>
    </form>

    <div
      class="hidden rounded-2xl border px-4 py-3 text-sm"
      data-auth-message
      role="status"
    ></div>
  </div>
</div>

<script type="module">
  import { initAuthModal } from "../scripts/auth-modal.ts";
  initAuthModal();
</script>
