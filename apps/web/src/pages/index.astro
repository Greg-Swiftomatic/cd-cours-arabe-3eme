---
import MainLayout from "@layouts/MainLayout.astro";
import LessonCard from "@components/LessonCard.astro";
import { getLessonsByCycle } from "@lib/content";

const cycle1 = getLessonsByCycle("cycle1");
const cycle2 = getLessonsByCycle("cycle2");

const stats = [
  { label: "دروس تفاعلية", value: "١٠", icon: "📚" },
  { label: "اختبارات جاهزة", value: "٢٥", icon: "📝" },
  { label: "متابعون نشطون", value: "٣٢", icon: "👩‍👦" },
];
---

<MainLayout
  title="منصة العربية - المرحلة الثالثة"
  description="منصة عائلية لتتبع تعلم العربية، مع دروس منظمة، تمارين تفاعلية، ولوحة تحكم للمراجعة."
>
  <div class="relative isolate overflow-hidden px-6 pb-16 pt-10 sm:px-10 lg:px-16">
    <div class="pointer-events-none absolute inset-0 -z-10 opacity-20">
      <div class="absolute left-0 top-20 h-96 w-96 rounded-full bg-primary-200 blur-3xl"></div>
      <div class="absolute bottom-0 right-0 h-96 w-96 rounded-full bg-accent-100 blur-3xl"></div>
    </div>

    <nav class="mx-auto flex max-w-6xl flex-col items-center justify-between gap-4 py-6 text-sm text-gray-700 sm:flex-row">
      <a href="/" class="font-display text-2xl font-bold text-primary-700">
        منصة العربية
      </a>
      <div class="flex items-center gap-3">
        <a
          href="/tableau-de-bord"
          class="rounded-full border border-gray-300 bg-white px-5 py-2 text-sm font-semibold text-gray-700 shadow-sm transition hover:bg-gray-50"
        >
          لوحة المتابعة
        </a>
        <a
          href="#cycle1"
          class="rounded-full border border-transparent bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-md transition hover:bg-primary-700"
        >
          ابدأ الدورة
        </a>
      </div>
    </nav>

    <header class="mx-auto flex max-w-6xl flex-col items-center gap-8 text-center">
      <div class="space-y-4">
        <span class="inline-flex items-center gap-2 rounded-full border border-primary-300 bg-primary-50 px-5 py-2 text-sm font-medium text-primary-700">
          برنامج متكامل لعائلة تهتم بالعربية
        </span>
        <h1 class="font-display text-4xl leading-snug text-gray-900 sm:text-5xl" dir="rtl">
          ارتقِ بلغة العائلة مع دروس متدرّجة، تمارين ممتعة، ولوحة نتائج متكاملة.
        </h1>
        <p class="text-lg leading-8 text-gray-600" dir="rtl">
          خطط أسبوعية، محتوى بالعربية الفصحى، إشعارات ذكية، ومتابعة دقيقة لمستوى الأبناء في كل دورة. كل ما تحتاجه لبناء عادة تعلم ممتعة.
        </p>
      </div>

      <div class="grid w-full max-w-4xl gap-4 sm:grid-cols-3">
        {stats.map((stat) => (
          <div class="glass-panel flex flex-col items-center gap-2 px-6 py-5 text-center">
            <span class="text-3xl">{stat.icon}</span>
            <span class="text-3xl font-bold text-gray-900">{stat.value}</span>
            <p class="text-sm font-medium text-gray-600">{stat.label}</p>
          </div>
        ))}
      </div>
    </header>
  </div>

  <main class="mx-auto max-w-6xl space-y-14 px-6 pb-20 sm:px-10 lg:px-16">
    <section id="cycle1" class="space-y-6">
      <header class="flex flex-col gap-3" dir="rtl">
        <p class="text-sm font-semibold uppercase tracking-wide text-primary-600">الدورة الأولى</p>
        <div class="flex flex-col gap-3 text-right">
          <h2 class="font-display text-4xl text-gray-900">أساسيات راسخة ونطق سليم</h2>
          <p class="max-w-3xl text-base leading-7 text-gray-600">
            وحدات مركّزة على الصرف والنحو مع أمثلة واضحة، بطاقات مراجعة، واختبارات فورية تقيس تقدّم المتعلّم وتمنحك صورة لحظية عن مستواه.
          </p>
        </div>
      </header>
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {cycle1.map((lesson) => (
          <LessonCard lesson={lesson} />
        ))}
      </div>
    </section>

    <section class="space-y-6" id="cycle2">
      <header class="flex flex-col gap-3 text-right" dir="rtl">
        <p class="text-sm font-semibold uppercase tracking-wide text-primary-600">الدورة الثانية</p>
        <h2 class="font-display text-4xl text-gray-900">تعبير أعمق ومشاريع تطبيقية</h2>
        <p class="max-w-3xl text-base leading-7 text-gray-600">
          يتم إعداد المحتوى حالياً: حوارات أدبية، تحرير نصوص، وتمارين بلاغية متقدمة مع تعقب للوقت والدرجات.
        </p>
      </header>
      {cycle2.length > 0 ? (
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {cycle2.map((lesson) => (
            <LessonCard lesson={lesson} />
          ))}
        </div>
      ) : (
        <div class="glass-panel flex flex-col items-center gap-3 px-6 py-10 text-center text-gray-600">
          <span class="text-3xl">✨</span>
          <p>سيتم إطلاق دروس الدورة الثانية قريبًا مع تحديات ومسارات مراجعة مخصّصة.</p>
        </div>
      )}
    </section>
  </main>
</MainLayout>
